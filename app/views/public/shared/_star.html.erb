<!-- レビューフォーム評価入力用 -->
<% if review == nil && game == nil %>
  <script type="text/javascript">
    $('#star').raty({
      number: 10,
      hints: [1,2,3,4,5,6,7,8,9,10],
      starOff: '<%= asset_path('star-off.png') %>',
      starOn: '<%= asset_path('star-on.png') %>',
      starHalf: '<%= asset_path('star-half.png') %>',
      half: false,
      scoreName: 'review[rate]'
    });
  </script>
<% end %>

<!-- レビュー評価表示用 -->
<% if review.present? %>
  <script type="text/javascript">
    $('#star-review-<%= review.id %>').raty({
      number: 10,
      hints: [1,2,3,4,5,6,7,8,9,10],
      starOff: '<%= asset_path('star-off.png') %>',
      starOn: '<%= asset_path('star-on.png') %>',
      starHalf: '<%= asset_path('star-half.png') %>',
      half: false,
      readOnly: true,
      score: <%= review.rate %>
    });
  </script>
<% end %>

<!-- ゲーム平均評価表示用 -->
<% if game.present? %>
  <script type="text/javascript">
    $('#star-game-<%= game.id %>').raty({
      number: 10,
      hints: [1,2,3,4,5,6,7,8,9,10],
      starOff: '<%= asset_path('star-off.png') %>',
      starOn: '<%= asset_path('star-on.png') %>',
      starHalf: '<%= asset_path('star-half.png') %>',
      half: true,
      readOnly: true,
      score: <%= game.reviews.average(:rate).to_f.round(1) %>
    });
  </script>
<% end %>
